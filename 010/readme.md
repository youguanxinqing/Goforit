# 知识点

>不要通过内存共享来通信，应该通过通信共享内存。

**通道类型的值本身就是并发安全**(Go 语言自带的、唯一一个可以满足并发安全性的类型)。

创建与使用：
```go
func main() {
	intChan := make(chan int, 8) // cap = 8
	intChan <- 1
	intChan <- 2
	fmt.Println(<-intChan)

}
```

当容量为 0 时，通道称为**非缓冲通道**。否则叫作**缓冲通道**。(一个通道相当于 FIFO 队列)

1. 对通道的发送与接收操作都有哪些基本特定？

- **对同一个通道，发送操作之间是互斥的，接收操作之间也是互斥**。

同一个时刻，Go 运行时系统只会执行对同一个通道的任意个发送操作中的一个。直到元素完全被复制进该通道之后，其他针对该通道的发送操作才可能被执行。

注意，元素值从外界进入通道时会被复制，即，进入通道的数据是元素的副本。

- **发送操作和接收操作中对元素值的处理都是不可分割的**。

元素从通道进入外界时会被移动。包含两个步骤：
1. 生成正在通道中的元素值的副本，并准备给接收方。
2. 删除在通道中的这个元素值。

整个过程不可分割，绝不会被打断。

- **发送操作在完全完成之前会被阻塞，接收操作也是**。

发送操作包括“复制元素值”和“放置副本到通道内部”两个操作，在这两个动作完成之前，代码会一直阻塞发送那段代码处。

接收操作包含了“复制通道里的元素”“放置副本到接收方”“删除原值”三个步骤。

**阻塞代码是为了实现操作的互斥和元素值的完整。**