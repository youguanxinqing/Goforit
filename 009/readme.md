# 知识点

在 Go 语言规范中，为避免歧义，键值对被称做“键-元素对”。

1. 为什么 Go 语言中的键类型会受到约束。

Go 语言中的字典类型是一个哈希表的特定实现，在实现中，键和元素最大的不同是，键类型是受限的，元素却可以是任意类型。

判断一个某个键是否在字典中，可用以下方法：
```go
var myMap = map[string]int {
    "one": 1,
    "two": 2,
    "three": 3,
}

if v, ok := myMap["two"]; ok {
    ...
}
```

哈希表查找元素过程：
- 用哈希函数将键值转换为哈希值（通常是一个无符号整数）。一个哈希表会持有一定数量的桶（bucket），哈希桶会均匀储存所属哈希表收纳的键-元素对。
- 哈希表先用键哈希值的低几位去定位到一个哈希桶，然后再去这个哈希桶中查找这个键。

在 Go 语言的字典中，每一个键值都由它的哈希值代表，**字典不会独立存储任何键的值，但会独立存储他们的哈希值。**

Go 语言规范中，字典的键值类型**不可以是函数类型，字典类型，切片类型**。键类型的值之间必须支持操作符 ==、!=(键类型必须支持判等，函数类型、字典类型、切片类型的值不支持判等操作)。(code: SliceAsKey)
```go
var badMap = map[interface{}]int{
    "1":      1,
    []int{2}: 2, // 编译器不会报错，语法上认同该做法，但运行报错
    3:        3,
}
```
- **最好不要把字典的键类型设定为任意接口类型。**