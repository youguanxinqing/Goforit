# 知识点

与函数不同，**方法需要有名字，不能被当作值来看待，且必须隶属于某一个类型。**

为一个类型编写 String() 方法可以定义该类型的字符串表示形式。(code: UseStruct)

**方法隶属的类型可以是结构体类型，也可以是某个自定义的数据类型，但不能是接口类型。**结构体中的字段名与方法名不能重名。

1. 如果结构体类型的某个字段声明中只有一个类型名，那么该字段代表了什么？
```go
type Biology struct {
	Animal
	People
}

type People struct {
	male   string
	female string
}

type Animal struct {
}
```

以上述代码为例，字段声明 Animal, People 代表了 Animal, People 类型的一个嵌入字段。
>Go 语言规范规定，如果一个字段的声明中只有字段的类型名而没有字段的名称，那么它就是一个嵌入字段，也可以被称为匿名字段。嵌入字段的类型既是类型也是名称。

把一个结构体类型嵌入到另一个结构体类型中，嵌入字段的方法集合也会被无条件地合并进被嵌入类型的方法集合中。

**嵌入字段与被嵌入类型，只要名称相同，无论两个方法的签名是否相同，后者都会屏蔽掉前者。**(code: ScreenSameNameFunc)
- 字段与字段重名会屏蔽。
- 字段与方法重名会屏蔽。

当两个嵌入字段拥有相同的方法名时(与函数签名无关)，允许通过编译，但在调用时如果不写明调用谁的方法，引发报错。(code: UseStructDeeply)
```go
type Biology struct {
	Animal
	People
}

func (a Animal) Walk() {
	fmt.Println("animal walk...")
}

func (p People) Walk(n int) {
	fmt.Println("people walk...")
}

func main() {
    bio := Biology{...}
    bio.Walk() // ambiguous selector bio.Walk

    bio.People.Walk(0) // 正常运行
}
```

2. Go 语言通过嵌入字段实现了继承吗？

**Go 语言中没有继承概念，通过嵌入字段的方式实现了类型之间的组合。**

面向对象编程中的继承，是通过牺牲一定的代码简洁性来换取可扩展性，这种可扩展性是通过侵入方式来实现。

类型之间的组合采用非声明的方式，不需要显式地声明某个类型实现了某个接口，或者一个类型继承了另一个类型。类型组合是非侵入式的，它不会破坏类型的封装或加重类型之间的耦合。

接口类型之间也可以组合。在 Go 语言中，接口类型之间的组合更加常见，常常以此来扩展接口定义的行为或者标记接口的特征。

3. 值方法和指针方法有什么区别？

方法的接受者类型必须是某个自定义的数据类型，且**不可以是接口类型或者接口的指针类型**。

值方法与指针方法的区别：
- 值方法的接收者是该方法所属类型值的一个副本，对副本的修改一般不会体现在原值上(引用类型除外)。指针方法的接收者是该方法所属类型值的指针值的一个副本。
- **一个自定义数据类型的方法集合中只会有它的所有值方法。而这个类型的指针类型的方法集合中包括所有值方法和指针方法**。(严格地说，基本类型只能调用它的值方法，但 Go 语言会适时地自动转译，将基本类型转换成指针类型，然后去调用指针方法)(code: ValuePointerFunc)
- 如果一个基本类型和它的指针类型的方法集合不同，那么它们具体实现的接口类型的数量也会有差异，除非这两个数量都是 0。(code: InterfaceImplement)

**某个数据类型只实现了值方法，那么这个方法对应的接口类型，认为该数据类型的值类型和指针类型是接口的实现。如果只实现了指针方法，那么这个方法对应的接口类型，认为只有该数据类型的指针类型是接口的实现。**(code: InterfaceImplement)

# struct{}代表什么 补充

空结构体不占用内存空间，但具有结构体的一切属性。可以拥有方法，可以写入 channel。