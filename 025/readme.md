# 知识点

**-cpu** 用来标记测试执行最大 P 数量的列表。用法如下：
```bash
go test -cpu=2,4 ...
```
- 默认情况下测试正确不会有输出，想输出需要加上 `-v`。
- **-cpu** 对应一个列表（如上），表示分别会以 cpu=2、cpu=4 执行测试函数。这里的 cpu 是逻辑 cpu 数，也就是并发模型中 P 的数量。
- 默认情况下，-cpu=计算机 CPU 核心的实际数量。
- 不论是功能测试函数还是性能测试函数，都会按照 -cpu 值的个数重复执行测试函数。

测试函数要求，在标记名称之后（Test, Benchmark...）跟上的单词必须是首字母大写。

**-count** 用来设置重复执行测试函数。对应值必须要 >= 0，默认 = 1。

对于性能测试函数的执行次数，其公式 = -cpu列表长度 * -count 值 * 探索时的次数。

![](/025/png/8dc543c7ac67dca3dae3eebc53067c56.png)